{% extends "base.html" %} {% block content %}
<div class="star-page">
  <div class="night-sky" data-parallax data-parallax-speed="0.3">
    <!-- Stars will be generated by JavaScript -->
  </div>

  <div class="star-container">
    <div class="main-star" onclick="revealMessage()">
      <div class="star-shape"></div>
      <div class="star-glow"></div>
      <h2 class="star-name">Meri Jaan</h2>
    </div>

    <div id="secretMessage" class="secret-message">
      <div class="message-content">
        <h3>Mere Dil Ki Baat üåü</h3>
        <p class="handwritten">
          Aap meri zindagi ki sabse roshni star ho. Aapki muskurahat se meri
          duniya roshan ho jaati hai, aapki aawaz meri har duhkh bhoola deti
          hai. Aap bin yeh zindagi adhoori hai, aapke bina har din bemaani sa
          lagta hai. Aap meri har khushi ka sabaab ho, meri har dua ka jawab ho.
          Aapse pyaar karna meri zindagi ka sabse khoobsurat faisla tha, aur aaj
          bhi hai, aur hamesha rahega... Hamesha aapka, Forever Your's üíñ
        </p>
        <button onclick="closeMessage()" class="close-btn">Close ‚ù§Ô∏è</button>
      </div>
    </div>
  </div>

  <div class="constellation">
    <div class="constellation-line"></div>
    <div class="constellation-star" style="top: 20%; left: 30%"></div>
    <div class="constellation-star" style="top: 40%; left: 50%"></div>
    <div class="constellation-star" style="top: 60%; left: 70%"></div>
    <div class="constellation-star" style="top: 80%; left: 40%"></div>
  </div>

  <div class="star-poem">
    <h3>Aap Ho Meri Duniya Ki Roshni üå†</h3>
    <p class="handwritten">
      Taaron bhari raat mein bhi, Aapki yaad ki chamak hai, Har sitara aapki
      yaad dilata hai, Har chamak aapki ore bulati hai. Aap ho meri manzil, aap
      ho meri raah, Aapki mohabbat hai meri sadaa.
    </p>
  </div>
</div>

<style>
  .star-page {
    min-height: 100vh;
    background: linear-gradient(135deg, #0c0c2e 0%, #1a1a4a 50%, #2d2d6e 100%);
    color: white;
    position: relative;
    overflow: hidden;
  }

  .night-sky {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .star-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    min-height: 80vh;
    position: relative;
    z-index: 2;
  }

  .main-star {
    position: relative;
    cursor: pointer;
    transition: all 0.5s ease;
    animation: starPulse 3s ease-in-out infinite;
  }

  .main-star:hover {
    transform: scale(1.2);
  }

  .star-shape {
    width: 120px;
    height: 120px;
    background: gold;
    clip-path: polygon(
      50% 0%,
      61% 35%,
      98% 35%,
      68% 57%,
      79% 91%,
      50% 70%,
      21% 91%,
      32% 57%,
      2% 35%,
      39% 35%
    );
    position: relative;
    z-index: 2;
  }

  .star-glow {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 200px;
    height: 200px;
    background: radial-gradient(
      circle,
      rgba(255, 215, 0, 0.4) 0%,
      rgba(255, 215, 0, 0) 70%
    );
    border-radius: 50%;
    animation: glowPulse 2s ease-in-out infinite alternate;
    z-index: 1;
  }

  .star-name {
    margin-top: 2rem;
    font-family: "Dancing Script", cursive;
    font-size: 2.5rem;
    color: gold;
    text-align: center;
    text-shadow: 0 0 20px rgba(255, 215, 0, 0.7);
  }

  .secret-message {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(0);
    background: linear-gradient(135deg, #1a1a4a 0%, #2d2d6e 100%);
    padding: 3rem;
    border-radius: 20px;
    border: 2px solid gold;
    box-shadow: 0 0 50px rgba(255, 215, 0, 0.5);
    z-index: 1000;
    max-width: 500px;
    width: 90%;
    opacity: 0;
    transition: all 0.5s ease;
  }

  .secret-message.show {
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }

  .message-content h3 {
    color: gold;
    text-align: center;
    margin-bottom: 2rem;
    font-family: "Dancing Script", cursive;
    font-size: 2rem;
  }

  .close-btn {
    background: gold;
    color: #1a1a4a;
    border: none;
    padding: 0.8rem 2rem;
    border-radius: 25px;
    cursor: pointer;
    font-weight: bold;
    margin-top: 2rem;
    transition: all 0.3s ease;
  }

  .close-btn:hover {
    background: #ffd700;
    transform: scale(1.1);
  }

  .constellation {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .constellation-line {
    position: absolute;
    background: rgba(255, 255, 255, 0.1);
    height: 2px;
    transform-origin: left center;
  }

  .constellation-star {
    position: absolute;
    width: 4px;
    height: 4px;
    background: white;
    border-radius: 50%;
    animation: twinkle 3s ease-in-out infinite;
  }

  .star-poem {
    position: absolute;
    bottom: 2rem;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    max-width: 600px;
    padding: 0 2rem;
  }

  .star-poem h3 {
    color: gold;
    margin-bottom: 1rem;
    font-family: "Dancing Script", cursive;
    font-size: 2rem;
  }

  @keyframes starPulse {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
  }

  @keyframes glowPulse {
    0% {
      opacity: 0.5;
      transform: translate(-50%, -50%) scale(1);
    }
    100% {
      opacity: 0.8;
      transform: translate(-50%, -50%) scale(1.2);
    }
  }

  @keyframes twinkle {
    0%,
    100% {
      opacity: 0.3;
    }
    50% {
      opacity: 1;
    }
  }
</style>

<script>
  function createStars() {
    const nightSky = document.querySelector(".night-sky");
    const starCount = 100;

    for (let i = 0; i < starCount; i++) {
      const star = document.createElement("div");
      star.className = "star-point";
      star.style.cssText = `
            position: absolute;
            width: ${Math.random() * 3 + 1}px;
            height: ${Math.random() * 3 + 1}px;
            background: white;
            border-radius: 50%;
            top: ${Math.random() * 100}%;
            left: ${Math.random() * 100}%;
            animation: twinkle ${Math.random() * 5 + 3}s ease-in-out infinite;
            animation-delay: ${Math.random() * 5}s;
        `;
      nightSky.appendChild(star);
    }
  }

  function revealMessage() {
    const message = document.getElementById("secretMessage");
    message.classList.add("show");

    // Create sparkle effect
    createSparkleEffect();
  }

  function closeMessage() {
    const message = document.getElementById("secretMessage");
    message.classList.remove("show");
  }

  function createSparkleEffect() {
    for (let i = 0; i < 20; i++) {
      const sparkle = document.createElement("div");
      sparkle.innerHTML = "‚ú®";
      sparkle.style.cssText = `
            position: fixed;
            font-size: 1.5rem;
            top: ${Math.random() * 100}%;
            left: ${Math.random() * 100}%;
            animation: sparkleFloat 2s ease-out forwards;
            z-index: 1001;
            pointer-events: none;
        `;

      document.body.appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 2000);
    }
  }

  // Add sparkle animation to style
  const sparkleStyle = document.createElement("style");
  sparkleStyle.textContent = `
    @keyframes sparkleFloat {
        0% {
            transform: translateY(0) scale(1);
            opacity: 1;
        }
        100% {
            transform: translateY(-100px) scale(0);
            opacity: 0;
        }
    }
    
    .star-point {
        pointer-events: none;
    }
`;
  document.head.appendChild(sparkleStyle);

  document.addEventListener("DOMContentLoaded", function () {
    createStars();
    initStarAnimations();
  });
</script>
{% endblock %}
